//variables
$pink:      #ffeae1;
$blue:      #3d5695;
$red:       #f05355;

$boldText: #000000;
$textColor: #333333;
$mediumText: #666666;
$lightText: #999999;
$lightestText: #BDBDBD;

$lightGrey: #F0F0F0;
$background: #FAFAFA;

$white: #ffffff;

input[type=checkbox] + label{
    -webkit-user-select:none;
    -khtml-user-select:none;
    -moz-user-select:none;
    -o-user-select:none;
    user-select:none;
}

.caption{
    color: $lightText;
    font-family: 'TisaOT-Ita', "Hoefler Text", "Baskerville old face", Garamond, "Times New Roman", serif;
    font-weight: 100;
    font-style: italic;
    margin-bottom: 48px;
    font-size: 16px;
}
.imageContainer{
    margin-bottom: 0px;
    width: 100%;
    left: 0px;
}
.articleInteraction{
    position: relative;
    background: $pink;
    width: 100%;
    height: 0px;
    padding-bottom: 65%;
    margin-bottom: 0px;
    &.thirdWidth{
        padding-bottom: 35%;
    }
}

//#1
.bezierCurve{
    transition: all 0.5ms cubic-bezier(0.250, 0.460, 0.450, 0.940);
    img, .graphLine{
        width: 100%;
        top: 0px;
        left: 0px;
        position: absolute;
    }
    .graphLine path{
        stroke-dasharray: 467;
        stroke-dashoffset: 467;
        animation: graphLine 4s cubic-bezier(0.9, 0.02, 0.13, 0.99) infinite alternate;
    }
    .circle{
        background: $blue;
        border-radius: 50%;
        width: 15%;
        padding-bottom: 15%;
        position: absolute;
        top: 70%;
        left: 5%;
        animation: circleMove 4s cubic-bezier(0.9, 0.02, 0.13, 0.99) infinite alternate;
    }
    @keyframes circleMove{
        0%{
            transform: translateX(0px);
        }
        100%{
            transform: translateX(500%);
        }
    }
    @keyframes graphLine{
        0%{
            stroke-dashoffset: 467;
        }
        100%{
            stroke-dashoffset: 0;
        }
    }
}

//#2 window transitions
.windowTransition{
    input{
        display: none;
    }
    //transform styles
    input:checked + label{
        &.playWindow{
            width: 75%;
            padding-bottom: 65%;
            background: $white;
            border-radius: 2px;
            .triangleRight{
                opacity: 0;
            }
            p{
                opacity: 1;
            }
            &.linearTransition p{
                transition: 0.2s linear 0.45s;
            }
            &.easedTransition p{
                transition: 0.2s cubic-bezier(0.175, 0.885, 0.320, 1) 0.4s;
                transition: 0.2s cubic-bezier(0.175, 0.885, 0.320, 1.275) 0.4s;
            }
        }
    }
    //window/play button styles
    .playWindow{
        border-radius: 50%;
        width: 35%;
        height: 0px;
        padding-bottom: 35%;
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        background: $blue;
        cursor: pointer;
        p, &.linearTransition p, &.easedTransition p{
            opacity: 0;
            font-size: 12px;
            text-transform: uppercase;
            font-family: 'Brandon-Black';
            margin: 0px;
            text-align: center;
            position: absolute;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
            line-height: 1;
            transition: 0.1s;
        }
        .triangleRight{
            position: absolute;
            top: 28%;
            left: 40%;
            width: 0;
            height: 0;
            padding-top: 22.5%;
            padding-bottom: 22.5%;
            padding-left: 30%;
            overflow: hidden;
            pointer-events: none;
            &:after{
                content: "";
                display: block;
                width: 0; 
                height: 0;
                margin-top: -480px;
                margin-left: -640px;
                border-top: 480px solid transparent;
                border-bottom: 480px solid transparent;
                border-left: 640px solid #ffffff;
            }
        }
        &.linearTransition{
            transition: 0.5s linear;
            
        }
        &.easedTransition{
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.320, 1);
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.320, 1.275);
        }
    }
}

//#3 submit button
.submitLoader{
    input{
        display: none;
    }
    //transform styles
    input:checked + label{
        &.submitClick{
            .submitBackground{
                width: 12px;
                height: 12px;
                box-shadow: none;
                opacity: 0;
                transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity 0s cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
            }
            p.sending{
                opacity: 1;
                transform: translateY(-8px);
            }
            p.submit{
                opacity: 0;
                transform: translateY(16px);
            }
            .submitBackground2{
                transform: scale(1);
                transition: 0.4s cubic-bezier(0.175, 0.885, 0.320, 1) 3.8s;
                transition: 0.4s cubic-bezier(0.175, 1, 0.50, 1.275) 3.8s;
            }
            p.sent{
                opacity: 1;
                transform: scale(1) translateY(-50%);
                transition: 0.4s cubic-bezier(0.175, 0.885, 0.320, 1) 3.8s;
                transition: 0.4s cubic-bezier(0.175, 1, 0.50, 1.275) 3.8s;
            }
            .dotContainer{
                animation: rotateLoader 2.4s cubic-bezier(0.9, 0.02, 0.13, 0.99) 0.2s 1.5;
                .dot{
                    animation: dotLoader 2.4s cubic-bezier(0.9, 0.02, 0.13, 0.99) 0.2s 1.5;
                }
                &:nth-child(2), &:nth-child(2) .dot{
                    animation-delay: 0.05s;
                }
                &:nth-child(3), &:nth-child(3) .dot{
                    animation-delay: 0.10s;
                }
                &:nth-child(4), &:nth-child(4) .dot{
                    animation-delay: 0.15s;
                }
                &:nth-child(5), &:nth-child(5) .dot{
                    animation-delay: 0.20s;
                }
                &:nth-child(6), &:nth-child(6) .dot{
                    animation-delay: 0.25s;
                }
                &:nth-child(7), &:nth-child(7) .dot{
                    animation-delay: 0.30s;
                }
            }
        }
    }
    //submit button
    .submitClick{
        width: 20%;
        height: 0px;
        padding-bottom: 20%;
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        cursor: pointer;
        .submitBackground{
            border-radius: 50%;
            position: absolute;
            left: 0px;
            right: 0px;
            margin: auto;
            width: 100%;
            height: 100%;
            background: $blue;
            box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.15);
        }
        .submitBackground2{
            border-radius: 50%;
            position: absolute;
            left: 0px;
            right: 0px;
            margin: auto;
            width: 100%;
            height: 100%;
            background: $blue;
            box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.15);
            transform: scale(0);
        }
        p{
            text-transform: uppercase;
            font-family: 'Brandon-Black';
            color: $white;
            margin: 0px;
            text-align: center;
            position: absolute;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            line-height: 1;
            font-size: calc(10px + 1vw);
            transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            @media screen and (min-width: 900px) {
                font-size: 20px;
            }
            &.sending{
                color: $blue;
                opacity: 0;
                transform: translateY(-24px);
            }
            &.sent{
                color: $white;
                opacity: 0;
                transform: scale(0.4) translateY(-50%);
                .checkmark {
                    display:inline-block;
                    width: 32px;
                    height:32px;
                    transform: rotate(45deg);
                    &:before {
                        content: "";
                        position: absolute;
                        width: 5px;
                        height: 32px;
                        background-color: #ffffff;
                        left: 16px;
                        top: 0px;
                    }
                    &:after {
                        content: "";
                        position: absolute;
                        width: 16px;
                        height: 5px;
                        background-color: $white;
                        left: 5px;
                        top: 27px;
                    }
                }
            }
        }
    }
}
.dotContainer{
    position: absolute;
    height: 12px;
    top: calc(50% - 6px);
    left: 0px;
    width: 50%;
    transform-origin: 100% 50%;
    .dot{
        opacity: 0;
        background-color: $blue;
        top: 0px;
        bottom: 0px;
        margin: auto;
        height: 12px;
        width: 12px;
        border-radius: 100%;
        position: absolute;
    }
}
@keyframes dotLoader{
    0%{
        opacity: 1;
        transform: rotate(90deg);
    }
    50%{
        width: 6px;
        height: 6px;
    }
    100%{
        transform: rotate(450deg);
        opacity: 1;
    }
}
@keyframes rotateLoader{
    0%{
        transform: rotate(90deg);
    }
    100%{
        transform: rotate(450deg);
    }
}

//#4 new section
.newSection{
    input{
        display: none;
    }
    //transform styles
    input:checked + label{
        &.windowContainer{
            .windowOne{
                transform: translateX(-100%);
            }
            .windowTwo{
                transform: scale(1);
                opacity: 1;
            }
        }
    }
    //window/play button styles
    .windowContainer{
        box-sizing: border-box;
        width: 65%;
        height: 0px;
        padding-bottom: 42%;
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        border: $blue 4px solid;
        border-top: $blue 24px solid;
        border-radius: 4px;
        pointer-events: none;
        .windowControls{
            background: rgba($white, 0.35);
            position: absolute;
            top: -17px;
            left: 3px;
            height: 10px;
            width: 10px;
            border-radius: 50%;
            &:after, &:before{
                content: "";
                position: absolute;
                background: rgba($white, 0.35);
                top: 0px;
                height: 100%;
                width: 100%;
                border-radius: 50%;
            }
            &:after{
                left: 150%;
            }
            &:before{
                left: 300%;
            }
        }
        .windowMask{
            overflow: hidden;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0px;
            left: 0px;
            background: red;
        }
        .windowBackground, .windowOne, .windowTwo{
            width: 100%;
            height: 100%;
            position: absolute;
            transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            .windowContent{
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                width: 100%;
                padding: 0px 20%;
            }
            h3{
               text-align: center;
               font-size: 20px;
               line-height: 1.2; 
               padding-bottom: 6px;
            }
            p{
                font-size: 12px;
                line-height: 1.5;
                color: $lightText;
                text-align: center;
                margin: 0px;
                padding-bottom: 16px;
            }
            @media screen and (max-width: 600px) {
                .windowContent{
                    padding: 0px 8px;
                    h3{
                        font-size: 16px;
                        line-height: 1;
                        padding-bottom: 4px;
                    }
                    p{
                        font-size: 8px;
                        padding-bottom: 12px;
                    }
                    .mockButton{
                        font-size: 12px;
                        padding: 12px;
                    }
                }
            }
            .mockButton{
                background: $blue;
                padding: 8px 12px;
                border-radius: 12px;
                color: $white;
                font-family: 'Brandon-Black';
                text-transform: uppercase;
                font-size: 16px;
                text-align: center;
                margin: 12px 0px;
                cursor: pointer;
                display: table;
                margin: 0 auto;
                pointer-events: all;
                &:hover{
                    transform: scale(1.05);
                    transition: 0.4s cubic-bezier(0.175, 0.885, 0.320, 1);
                    transition: 0.4s cubic-bezier(0.175, 0.885, 0.320, 1.275);
                }
            }
        }
        .windowBackground{
            background: $textColor;
        }
        .windowOne{
            background: $white;
        }
        .windowTwo{
            background: $white;
            opacity: 0;
            transform: scale(0.6);
        }
    }
}

//#5 submit button
.submitButton{
    .inputWindow{
        background: $white;
        width: 75%;
        padding: 0px 32px;
        position: absolute;
        top: 50%;
        left: 0px;
        right: 0px;
        margin: auto;
        transform: translateY(-50%);
        h4{
            margin: 32px 0px 16px 0px;
            line-height: 1;
        }
        input{
            width: 100%;
            height: 32px;
            line-height: 32px;
            border: 2px solid $lightestText;
            transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
            padding: 8px;
            margin-bottom: 16px;
            &:focus, &:valid{
                border: 2px solid $blue;
            }
        }
        p{
            background: $lightestText;
            transform: scale(0.9);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.320, 1);
            transition: 0.4s cubic-bezier(0.175, 0.95, 0.320, 1.5);
            padding: 4px 16px;
            border-radius: 12px;
            color: $white;
            font-family: 'Brandon-Black';
            text-transform: uppercase;
            font-size: 12px;
            text-align: center;
            margin: 0px 0px 32px 0px;
            cursor: pointer;
            display: table;
            float: right;
        }
        input:valid + p{
            background: $blue;   
            transform: scale(1);
        }
    }
}

//#6 infinite scroll
.infiniteScroll{
    overflow: hidden;
    .phoneContainer{
        width: 40%;
        box-sizing: border-box;
        height: 100%;
        position: absolute;
        top: 10%;
        left: 0px;
        right: 0px;
        bottom: -10%;
        margin: auto;
        border-radius: 15%/9.75%;
        background: $blue;
    }
    .headerBar{
        position: absolute;
        top: 12%;
        left: 4%;
        height: 10%;
        width: 92%;
        background: $white;
    }
    .phoneScreen{
        position: absolute;
        left: 4%;
        top: 22%;
        width: 92%;
        height: 68%;
        background: $lightGrey;
        overflow: hidden;
        .contentBox1, .contentBox2, .contentBox3, .contentBox4, .contentBox5, .contentBox6, .contentBox7{
            background: $white;
            height: 20%;
            width: 88%;
            margin: 5% 0px;
            position: absolute;
            left: 6%;
        }
        .contentBox1, .contentBox2, .contentBox3, .contentBox4, .contentBox5{
            animation: slideContentOne 6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        .contentBox1{
            top: -25%;
        }
        .contentBox2{
            top: 0;
        }
        .contentBox3{
            top: 25%;
            animation-delay: 0.05s;
        }
        .contentBox4{
            top: 25% * 2;
            animation-delay: 0.1s;
        }
        .contentBox5{
            top: 25% * 3;
            animation-delay: 0.15s;
        }
        .contentBox6{
            top: 25% * 4;
            animation: slideContentTwo 6s cubic-bezier(0.4, 0, 0.2, 1) 0.2s infinite;
        }
        .contentBox7{
            top: 25% * 5;
            animation: slideContentTwo 6s cubic-bezier(0.4, 0, 0.2, 1) 0.3s infinite;
        }
    }
    .loadingContainer{
        position: absolute;
        top: 65%;
        left: 0px;
        right: 0px;
        margin: auto;
        width: 16%;
        height: 12%;
        opacity: 0;
        animation: loaderOpacity 6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        .dotContainer{
            height: 6px;
            top: calc(50% - 3px);
            animation: rotateLoader 2s cubic-bezier(0.9, 0.02, 0.13, 0.99) infinite;
            .dot{
                height: 6px;
                width: 6px;
                animation: dotLoader 2s cubic-bezier(0.9, 0.02, 0.13, 0.99) infinite;
            }
            &:nth-child(2), &:nth-child(2) .dot{
                animation-delay: 0.05s;
            }
            &:nth-child(3), &:nth-child(3) .dot{
                animation-delay: 0.10s;
            }
            &:nth-child(4), &:nth-child(4) .dot{
                animation-delay: 0.15s;
            }
            &:nth-child(5), &:nth-child(5) .dot{
                animation-delay: 0.20s;
            }
            &:nth-child(6), &:nth-child(6) .dot{
                animation-delay: 0.25s;
            }
            &:nth-child(7), &:nth-child(7) .dot{
                animation-delay: 0.30s;
            }
        }
    }
    .touchIndicator{
        background: $blue;
        border-radius: 50%;
        width: 15%;
        padding-bottom: 15%;
        position: absolute;
        top: 75%;
        left: 35%;
        animation: touchScroll 6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    }
    @keyframes slideContentOne{
        0%{
            transform: translateY(0px);
        }
        28%{
            transform: translateY(-320%);
        }
        35%{
            transform: translateY(-254%);
        }
        99.99%{
            transform: translateY(-254%);
        }
        100%{
            transform: translateY(-254%);
        }
    }
    @keyframes slideContentTwo{
        0%{
            transform: translateY(0px) scale(1.1363636364);
        }
        65%{
            transform: translateY(0px) scale(1.1363636364);
        }
        82.5%{
            transform: translateY(-250%) scale(1);
        }
        100%{
            transform: translateY(-250%) scale(1);
        }
    }
    @keyframes touchScroll{
        0%{
            transform: translateX(0px) translateY(0px);
            opacity: 1;
        }
        28%{
            //480
            transform: translateX(60%) translateY(-520%);
            opacity: 1;
        }
        32%{
            //480
            transform: translateX(60%) translateY(-520%);
            opacity: 0;
        }
        89.99%{
            //480
            transform: translateX(60%) translateY(-520%);
            opacity: 0;
        }
        90%{
            transform: translateX(0px) translateY(0px);
            opacity: 0;
        }
        100%{
            transform: translateX(0px) translateY(0px);
            opacity: 1;
        }
    }
    @keyframes loaderOpacity{
        0%{
            opacity: 0;
        }
        35%{
            opacity: 0;
        }
        40%{
            opacity: 1;
        }
        65%{
            opacity: 1;
        }
        70%{
            opacity: 0;
        }
        100%{
            opacity: 0;
        }
    }
}

//#7 slide hinting on tap
.slideAway{
    overflow: hidden;
    .phoneBackground{
        position: absolute;
        width: 60%;
        height: 100%;
        background: $blue;
        left: 20%;
        top: 0px;
    }
    .phoneScreen{
        position: absolute;
        width: 56%;
        height: 120%;
        background: $lightGrey;
        left: 22%;
        top: 0px;
        overflow: hidden;
        .listItem{
            height: 20%;
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 1px;
            position: relative;
            cursor: pointer;
            &.slideHint{
                margin-left: 15%;
                transition: margin 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            }
            &:before{
                content: "";
                position: absolute;
                top: 0px;
                left: -200%;
                width: 500%;
                height: 100%;
                background: $red;
                pointer-events: none;
            }
            .listBackground{
                background: $white;
                top: 0px;
                left: 0px;
                width: 100%;
                height: 100%;
                position: absolute;
            }
            .close{
                position: absolute;
                top: 0px;
                left: -15%;
                width: 15%;
                height: 100%;
                padding: 0px 5%;
                background: $red;
                top: 0px;
                bottom: 0px;
                left: -15%;
                right: 0px;
                margin: auto 0;
            }
            .listTextContainer{
                margin: 0px 0px 0px 10%;
                width: 80%;
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                overflow: hidden;
                max-height: 100%;
            }
            p{
                margin: 0px;
                text-overflow: ellipsis;
                overflow: hidden;
            }
            .listTitle{
                color: $textColor;
                white-space: nowrap;
            }
            .listBody{
                color: $lightestText;
                font-size: 16px;
                white-space: nowrap;
                @media screen and (max-width: 600px) {
                    display: none;
                }
            }
        }
    }
}

//#8 congrats
.congrats{
    input{
        display: none;
    }
    //transform styles
    input:checked + label{
        &.congratsButton{
            width: 100%;
            height: 100%;
            border-radius: 0px;
            p{
                opacity: 0;
                transform: translateY(-24px);
                &.thankyou{
                    opacity: 1;
                    transform: translateY(0px);
                }
            }
            &:hover{
                transform: scale(1);
            }
            + #confeti{
                opacity: 1;
            }
        }
    }
    .congratsButton{
        width: 20%;
        height: 15%;
        border-radius: 8px;
        position: absolute;
        top: -10%;
        left: -10%;
        right: -10%;
        bottom: -10%;
        margin: auto;
        cursor: pointer;
        background: $blue;
        transition: 0.6s cubic-bezier(0.175, 0.885, 0.320, 1);
        transition: 0.6s cubic-bezier(0.175, 1, 0.50, 1.275);
        transform: rotate(0deg);
        &:hover{
            transform: scale(1.1);
        }
        p{
            text-transform: uppercase;
            font-family: 'Brandon-Black';
            color: $white;
            margin: 0px auto;
            text-align: center;
            position: absolute;
            white-space: nowrap;
            left: -200%;
            right: -200%;
            width: 500%;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            line-height: 1;
            font-size: calc(10px + 1vw);
            transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            @media screen and (min-width: 900px) {
                font-size: 20px;
            }
        }
        p.thankyou{
            transform: translateY(24px);
            font-size: 24px;
            opacity: 0;
        }
    }
    #confeti{
        opacity: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
        pointer-events: none;
        transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
}

.shadow{
    box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.15);
}
.shadowHard{
    box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.25);
}